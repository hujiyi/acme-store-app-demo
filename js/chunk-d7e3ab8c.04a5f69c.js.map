{"version":3,"sources":["webpack:///./src/service/account_service.js","webpack:///../../src/util/mixins.ts","webpack:///./node_modules/vuetify-loader/lib/runtime/installComponents.js","webpack:///../../../src/components/VApp/VApp.ts","webpack:///../../../src/mixins/themeable/index.ts","webpack:///./src/views/dashboard/Index.vue?5ef0","webpack:///src/views/dashboard/Index.vue","webpack:///./src/views/dashboard/Index.vue?0ca8","webpack:///./src/views/dashboard/Index.vue"],"names":["AccountService","username","password","email","user","LC","User","setUsername","setPassword","set","setEmail","Promise","resolve","reject","signUp","then","console","log","id","catch","error","code","logIn","Cloud","fromJson","logOut","resp","current","currentUser","currUser","this","image","name","img","File","save","file","get","u","change","emailVerified","mobilePhoneNumber","mobilePhoneVerified","nickname","avatar","mixins","args","module","exports","component","components","options","extendOptions","i","props","dark","type","default","undefined","light","computed","isDark","$vuetify","theme","beforeCreate","Error","render","wrapper","h","staticClass","$slots","class","themeClasses","attrs","domProps","Themeable","provide","themeableProvide","inject","data","appIsDark","rootIsDark","rootThemeClasses","watch","handler","newVal","immediate","vm","context","injections","_vm","_h","$createElement","_c","_self","staticRenderFns","DashboardAppBar","DashboardDrawer","DashboardView","DashboardFooter","mounted","SET_CURRENT_USER","$router","push","methods","VApp"],"mappings":"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","file":"js/chunk-d7e3ab8c.04a5f69c.js","sourcesContent":["/*\r\n * @Author: your name\r\n * @Date: 2021-05-25 09:40:04\r\n * @LastEditTime: 2021-05-31 13:50:16\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\acme-store-app\\src\\service\\account_service.js\r\n */\r\nimport LC from 'leancloud-storage';  // 导入 leancloud 数据存储模块\r\nimport { invalid } from 'moment';\r\n\r\nclass AccountService {\r\n    /**\r\n     * 注册帐号\r\n     * @param {*} username \r\n     * @param {*} password \r\n     * @param {*} email \r\n     * @returns \r\n     */\r\n    signUp(username, password, email = '') {\r\n        let user = new LC.User();\r\n        user.setUsername(username);\r\n        user.setPassword(password);\r\n        // 注册时, 用户昵称 与 用户名相同\r\n        user.set('nickname', username);\r\n        if (email) {\r\n            user.setEmail(email);\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            user.signUp().then(user => {\r\n                // \r\n                console.log(`新用户注册成功，objectId: ${user.id}`);\r\n                resolve(user);\r\n            }).catch((error) => {\r\n                console.log('signUp():', error.code);\r\n                reject(error);\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 用户登录\r\n     * @param {*} username \r\n     * @param {*} password \r\n     */\r\n    logIn(username, password) {\r\n        return new Promise((resolve, reject) => {\r\n            LC.User.logIn(username, password).then(user => {\r\n                // \r\n                LC.Cloud\r\n                resolve(this.fromJson(user));\r\n            }).catch(error => {\r\n                // \r\n                console.log('logIn(): ', error)\r\n                reject(error);\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 注册, 退出登录\r\n     */\r\n    logOut() {\r\n        return new Promise((resolve, reject) => {\r\n            LC.User.logOut().then(resp => {\r\n                // \r\n                resolve(LC.User.current());\r\n            }).catch(error => {\r\n                // \r\n                reject('logOut()', error);\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    // 用户是否登录, 这个可以用下面的 currentUser() 代替\r\n    // 因为不知道这个函数是否已经有使用, 所以还是留着吧.\r\n    isLoggedIn() {\r\n        let currentUser = LC.User.current(); // 获取当前用户\r\n        if (currentUser) {\r\n            return currentUser;    // 已有登录用户，返回当前用户\r\n        }\r\n        return false;     // 没有用户登录，返回false\r\n    };\r\n\r\n    // 获取当前已登录的用户, 本地数据不需要 Promise\r\n    currentUser() {\r\n        // return new Promise((resolve, reject) => {\r\n        var user = LC.User.current();\r\n        if (user) {\r\n            var currUser = this.fromJson(user);\r\n            console.log('current user: ', currUser);\r\n            // resolve(currUser);\r\n            return currUser;\r\n        }\r\n        return null;\r\n        // reject(user);\r\n        // });\r\n    }\r\n\r\n    // 更新用户头像\r\n    updateAvatar(image) {\r\n        return new Promise((resolve, reject) => {\r\n            var user = LC.User.current();  // 获取当前用户\r\n            let name = image.name;  // 获取图像文件名\r\n            let img = new LC.File(name, image);   // 创建文件对象\r\n            // 保存文件(上传到服务器)\r\n            img.save()\r\n                .then(file => {\r\n                    console.log('update file: ', file);\r\n                    // 设置用户 avatar 字段的值\r\n                    user.set('avatar', file.get('url'));\r\n                    user.save().then(u => {\r\n                        // 更新当前用户的数据\r\n                        LC.User.current().change();\r\n                        resolve(this.fromJson(u));\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n\r\n\r\n    // 将从服务器读取的一个用户数据转为对象格式, 以方便调用\r\n    fromJson(user) {\r\n        return {\r\n            id: user.id,\r\n            username: user.get('username'),\r\n            email: user.get('email'),\r\n            emailVerified: user.get('emailVerified'),\r\n            mobilePhoneNumber: user.get('mobilePhoneNumber'),\r\n            mobilePhoneVerified: user.get('mobilePhoneVerified'),\r\n            nickname: user.get('nickname'),\r\n            avatar: user.get('avatar') ,\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport default new AccountService();","/* eslint-disable max-len, import/export, no-use-before-define */\nimport Vue, { VueConstructor } from 'vue'\n\nexport default function mixins<T extends VueConstructor[]> (...args: T): ExtractVue<T> extends infer V ? V extends Vue ? VueConstructor<V> : never : never\nexport default function mixins<T extends Vue> (...args: VueConstructor[]): VueConstructor<T>\nexport default function mixins (...args: VueConstructor[]): VueConstructor {\n  return Vue.extend({ mixins: args })\n}\n\n/**\n * Returns the instance type from a VueConstructor\n * Useful for adding types when using mixins().extend()\n */\nexport type ExtractVue<T extends VueConstructor | VueConstructor[]> = T extends (infer U)[]\n  ? UnionToIntersection<\n    U extends VueConstructor<infer V> ? V : never\n  >\n  : T extends VueConstructor<infer V> ? V : never\n\ntype UnionToIntersection<U> =\n  (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never\n","// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function installComponents (component, components) {\n  var options = typeof component.exports === 'function'\n    ? component.exports.extendOptions\n    : component.options\n\n  if (typeof component.exports === 'function') {\n    options.components = component.exports.options.components\n  }\n\n  options.components = options.components || {}\n\n  for (var i in components) {\n    options.components[i] = options.components[i] || components[i]\n  }\n}\n","// Styles\nimport './VApp.sass'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  Themeable\n).extend({\n  name: 'v-app',\n\n  props: {\n    dark: {\n      type: Boolean,\n      default: undefined,\n    },\n    id: {\n      type: String,\n      default: 'app',\n    },\n    light: {\n      type: Boolean,\n      default: undefined,\n    },\n  },\n\n  computed: {\n    isDark (): boolean {\n      return this.$vuetify.theme.dark\n    },\n  },\n\n  beforeCreate () {\n    if (!this.$vuetify || (this.$vuetify === this.$root as any)) {\n      throw new Error('Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object')\n    }\n  },\n\n  render (h) {\n    const wrapper = h('div', { staticClass: 'v-application--wrap' }, this.$slots.default)\n\n    return h('div', {\n      staticClass: 'v-application',\n      class: {\n        'v-application--is-rtl': this.$vuetify.rtl,\n        'v-application--is-ltr': !this.$vuetify.rtl,\n        ...this.themeClasses,\n      },\n      attrs: { 'data-app': true },\n      domProps: { id: this.id },\n    }, [wrapper])\n  },\n})\n","import Vue from 'vue'\nimport { PropType, RenderContext } from 'vue/types/options'\n\ninterface options extends Vue {\n  theme: {\n    isDark: boolean\n  }\n}\n\n/* @vue/component */\nconst Themeable = Vue.extend<options>().extend({\n  name: 'themeable',\n\n  provide (): object {\n    return {\n      theme: this.themeableProvide,\n    }\n  },\n\n  inject: {\n    theme: {\n      default: {\n        isDark: false,\n      },\n    },\n  },\n\n  props: {\n    dark: {\n      type: Boolean as PropType<boolean | null>,\n      default: null,\n    },\n    light: {\n      type: Boolean as PropType<boolean | null>,\n      default: null,\n    },\n  },\n\n  data () {\n    return {\n      themeableProvide: {\n        isDark: false,\n      },\n    }\n  },\n\n  computed: {\n    appIsDark (): boolean {\n      return this.$vuetify.theme.dark || false\n    },\n    isDark (): boolean {\n      if (this.dark === true) {\n        // explicitly dark\n        return true\n      } else if (this.light === true) {\n        // explicitly light\n        return false\n      } else {\n        // inherit from parent, or default false if there is none\n        return this.theme.isDark\n      }\n    },\n    themeClasses (): object {\n      return {\n        'theme--dark': this.isDark,\n        'theme--light': !this.isDark,\n      }\n    },\n    /** Used by menus and dialogs, inherits from v-app instead of the parent */\n    rootIsDark (): boolean {\n      if (this.dark === true) {\n        // explicitly dark\n        return true\n      } else if (this.light === true) {\n        // explicitly light\n        return false\n      } else {\n        // inherit from v-app\n        return this.appIsDark\n      }\n    },\n    rootThemeClasses (): Dictionary<boolean> {\n      return {\n        'theme--dark': this.rootIsDark,\n        'theme--light': !this.rootIsDark,\n      }\n    },\n  },\n\n  watch: {\n    isDark: {\n      handler (newVal, oldVal) {\n        if (newVal !== oldVal) {\n          this.themeableProvide.isDark = this.isDark\n        }\n      },\n      immediate: true,\n    },\n  },\n})\n\nexport default Themeable\n\nexport function functionalThemeClasses (context: RenderContext): object {\n  const vm = {\n    ...context.props,\n    ...context.injections,\n  }\n  const isDark = Themeable.options.computed.isDark.call(vm)\n  return Themeable.options.computed.themeClasses.call({ isDark })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('dashboard-app-bar'),_c('dashboard-drawer'),_c('dashboard-view'),_c('dashboard-footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: your name\r\n * @Date: 2021-05-25 09:33:15\r\n * @LastEditTime: 2021-05-27 11:22:12\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\acme-store-app\\src\\views\\dashboard\\Index.vue\r\n-->\r\n<template>\r\n  <v-app>\r\n    <dashboard-app-bar></dashboard-app-bar>\r\n    <dashboard-drawer></dashboard-drawer>\r\n    <dashboard-view></dashboard-view>\r\n    <dashboard-footer></dashboard-footer>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport AccountService from \"@/service/account_service\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"dashboard-index\",\r\n  // 引导组件\r\n  components: {\r\n    DashboardAppBar: () => import(\"@/views/dashboard/components/AppBar.vue\"),\r\n    DashboardDrawer: () => import(\"@/views/dashboard/components/Drawer.vue\"),\r\n    DashboardView: () => import(\"@/views/dashboard/components/View.vue\"),\r\n    DashboardFooter: () => import(\"@/views/dashboard/components/Footer.vue\"),\r\n  },\r\n  mounted() {\r\n    // 检测是否有已登录用户\r\n    if (!AccountService.isLoggedIn()) {\r\n      this.$router.push(\"/account\");\r\n    } else {\r\n      this.SET_CURRENT_USER(AccountService.currentUser());\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /// ... 在此处为解构操作，用于将mapMutations中的对象展开\r\n    ...mapMutations(\r\n      // 把 状态中定义的方法名：\"SET_CURRENT_USER\" 映射为当前组件的同名方法，\r\n      [\"SET_CURRENT_USER\"]\r\n    ),\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style> ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=6da0cc6c&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n"],"sourceRoot":""}