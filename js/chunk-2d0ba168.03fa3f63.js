(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ba168"],{"365d":function(e,n,t){"use strict";var o=t("d4ec"),r=t("bee2"),a=(t("d3b7"),t("b0c0"),t("c72e")),i=t.n(a),u=(t("c1df"),function(){function e(){Object(o["a"])(this,e)}return Object(r["a"])(e,[{key:"signUp",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=new i.a.User;return o.setUsername(e),o.setPassword(n),o.set("nickname",e),t&&o.setEmail(t),new Promise((function(e,n){o.signUp().then((function(n){console.log("新用户注册成功，objectId: ".concat(n.id)),e(n)})).catch((function(e){console.log("signUp():",e.code),n(e)}))}))}},{key:"logIn",value:function(e,n){var t=this;return new Promise((function(o,r){i.a.User.logIn(e,n).then((function(e){i.a.Cloud,o(t.fromJson(e))})).catch((function(e){console.log("logIn(): ",e),r(e)}))}))}},{key:"logOut",value:function(){return new Promise((function(e,n){i.a.User.logOut().then((function(n){e(i.a.User.current())})).catch((function(e){n("logOut()",e)}))}))}},{key:"isLoggedIn",value:function(){var e=i.a.User.current();return e||!1}},{key:"currentUser",value:function(){var e=i.a.User.current();if(e){var n=this.fromJson(e);return console.log("current user: ",n),n}return null}},{key:"updateAvatar",value:function(e){var n=this;return new Promise((function(t,o){var r=i.a.User.current(),a=e.name,u=new i.a.File(a,e);u.save().then((function(e){console.log("update file: ",e),r.set("avatar",e.get("url")),r.save().then((function(e){i.a.User.current().change(),t(n.fromJson(e))}))})).catch((function(e){o(e)}))}))}},{key:"fromJson",value:function(e){return{id:e.id,username:e.get("username"),email:e.get("email"),emailVerified:e.get("emailVerified"),mobilePhoneNumber:e.get("mobilePhoneNumber"),mobilePhoneVerified:e.get("mobilePhoneVerified"),nickname:e.get("nickname"),avatar:e.get("avatar")}}}]),e}());n["a"]=new u}}]);
//# sourceMappingURL=chunk-2d0ba168.03fa3f63.js.map